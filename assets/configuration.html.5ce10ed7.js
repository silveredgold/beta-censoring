import{r,o as c,c as u,b as s,w as a,a as e,F as p,d as l,e as n}from"./app.dba5a2cb.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";const h={},k=l(`<blockquote><p>Note that in the preview releases, configuring the server is an advanced process that assumes some familiarity with editing configuration files yourself. This process will hopefully improve in future releases so it is only recommended to proceed if you are comfortable with that, and really need to.</p></blockquote><h2 id="configuration-files" tabindex="-1"><a class="header-anchor" href="#configuration-files" aria-hidden="true">#</a> Configuration Files</h2><p>The server will look for configuration in a handful of locations when it starts up, but it&#39;s recommended to use configuration files stored in the same directory as the server (i.e. the same folder where <code>BetaCensor.Server</code> is located).</p><p>You can use either JSON or YAML configuration files, which should be named <code>config.json</code> or <code>config.yml</code> respectively.</p><h2 id="sticker-configuration" tabindex="-1"><a class="header-anchor" href="#sticker-configuration" aria-hidden="true">#</a> Sticker Configuration</h2><p>You can enable stickers and control their use using the <code>Stickers</code> section of the config file. You can either use the <code>config.yml</code>/<code>config.json</code> or use a separate <code>stickers.yml</code>/<code>stickers.json</code>. You can configure two kinds of locations for stickers: sticker stores and separate paths.</p><p>While this might seem a little complex, it should be easy to get set up once and means you can use any of your own images as stickers, no matter where they&#39;re stored.</p><h3 id="stores" tabindex="-1"><a class="header-anchor" href="#stores" aria-hidden="true">#</a> Stores</h3><p>A &quot;sticker store&quot; is a folder with stickers for more than one category, with directories for each category available in the store. For example, a store might be laid out like this:</p><div class="language-text ext-text"><pre class="language-text"><code>C:/path/to/my/sticker/store
\u2514\u2500\u2500\u2500Professional
    \u2502  squareprocap1.png
    \u2502  squareprocap2.png
    \u2502  squareprocap4.png
\u2514\u2500\u2500\u2500Chastity
    \u2502  chastity_sticker1.png
    \u2502  ch_sticker2.png
    \u2502  ch_sticker3.png
</code></pre></div><h4 id="default-store" tabindex="-1"><a class="header-anchor" href="#default-store" aria-hidden="true">#</a> Default Store</h4><p>Beta Censoring looks for a default store at the <code>stickers/</code> path from the server folder. That is, if there&#39;s a folder called <code>stickers</code> in the same place as <code>BetaCensor.Server.exe</code>, Beta Censoring will automatically load any subfolders in that folder as categories of stickers.</p><h4 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> Configuration</h4><p>You can also add sticker stores to your configuration like below, and it would make a <code>Professional</code> and <code>Chastity</code> category available.</p>`,14),m=e("div",{class:"language-yaml ext-yml line-numbers-mode"},[e("pre",{class:"language-yaml"},[e("code",null,[e("span",{class:"token key atrule"},"Stickers"),e("span",{class:"token punctuation"},":"),n(`
  `),e("span",{class:"token key atrule"},"LocalStores"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},"'C:/path/to/my/sticker/store'"),e("span",{class:"token punctuation"},"]"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),b=e("div",{class:"language-json ext-json line-numbers-mode"},[e("pre",{class:"language-json"},[e("code",null,[e("span",{class:"token punctuation"},"{"),n(`
    `),e("span",{class:"token property"},'"Stickers"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
        `),e("span",{class:"token property"},'"LocalStores"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},'"C:/path/to/my/sticker/store"'),e("span",{class:"token punctuation"},"]"),n(`
    `),e("span",{class:"token punctuation"},"}"),n(`
`),e("span",{class:"token punctuation"},"}"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br")])],-1),g=e("blockquote",null,[e("p",null,[n("If you have a Beta Safety installation handy, you can always add its "),e("code",null,"browser-extension/images/stickers"),n(" path as a store to Beta Censoring.")])],-1),f=e("h3",{id:"sticker-paths",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#sticker-paths","aria-hidden":"true"},"#"),n(" Sticker Paths")],-1),y=e("p",null,[n("If you just want to add some images with a specific category without moving/copying them, you can do that too. The "),e("code",null,"Paths"),n(" configuration lets you add any number of folders, anywhere on your PC, as stickers for any category you like. For example, with the following configuration:")],-1),_=e("div",{class:"language-yaml ext-yml line-numbers-mode"},[e("pre",{class:"language-yaml"},[e("code",null,[e("span",{class:"token key atrule"},"Stickers"),e("span",{class:"token punctuation"},":"),n(`
  `),e("span",{class:"token key atrule"},"Paths"),e("span",{class:"token punctuation"},":"),n(`
    `),e("span",{class:"token key atrule"},"Discreet"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},'"C:/pictures/discreet-stickers"'),e("span",{class:"token punctuation"},"]"),n(`
    `),e("span",{class:"token key atrule"},"Chastity"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},'"C:/pictures/chastity-stickers"'),e("span",{class:"token punctuation"},","),n(),e("span",{class:"token string"},'"D:/downloads/stickers"'),e("span",{class:"token punctuation"},"]"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),v=e("div",{class:"language-json ext-json line-numbers-mode"},[e("pre",{class:"language-json"},[e("code",null,[e("span",{class:"token punctuation"},"{"),n(`
    `),e("span",{class:"token property"},'"Stickers"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
        `),e("span",{class:"token property"},'"Paths"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
          `),e("span",{class:"token property"},'"Discreet"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},'"C:/pictures/discreet-stickers"'),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},","),n(`
          `),e("span",{class:"token property"},'"Chastity"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},'"C:/pictures/chastity-stickers"'),e("span",{class:"token punctuation"},","),n(),e("span",{class:"token string"},'"D:/downloads/stickers"'),e("span",{class:"token punctuation"},"]"),n(`
        `),e("span",{class:"token punctuation"},"}"),n(`
    `),e("span",{class:"token punctuation"},"}"),n(`
`),e("span",{class:"token punctuation"},"}"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),w=l('<p>Any images in any of the folders provided for a given category (<code>Discreet</code> and <code>Chastity</code> in the example above) will be merged together and used any time a client requests sticker censoring with those categories enabled.</p><p>You also don&#39;t need to worry about images being the exact right dimension! Beta Censoring will check the available images and find one that&#39;s aspect ratio is <em>close enough</em> to the censoring it&#39;s being used for. While we recommend sticking mostly to square-ish images, you don&#39;t need to worry too much about the exact dimensions.</p><h2 id="captions-configuration" tabindex="-1"><a class="header-anchor" href="#captions-configuration" aria-hidden="true">#</a> Captions Configuration</h2><blockquote><p>Beta Censoring includes a default set of captions so you only need to do this if you want to change them.</p></blockquote><p>Captions work similarly to stickers to configure, but with a <code>Captions</code> configuration section that looks a little different:</p>',5),C=e("div",{class:"language-yaml ext-yml line-numbers-mode"},[e("pre",{class:"language-yaml"},[e("code",null,[e("span",{class:"token key atrule"},"Captions"),e("span",{class:"token punctuation"},":"),n(`
  `),e("span",{class:"token key atrule"},"Captions"),e("span",{class:"token punctuation"},":"),n(`
    `),e("span",{class:"token punctuation"},"-"),n(),e("span",{class:"token string"},'"unworthy"'),n(`
    `),e("span",{class:"token punctuation"},"-"),n(),e("span",{class:"token string"},'"not for you"'),n(`
  `),e("span",{class:"token key atrule"},"FilePaths"),e("span",{class:"token punctuation"},":"),n(`
    `),e("span",{class:"token punctuation"},"-"),n(),e("span",{class:"token string"},'"D:/captions.txt"'),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br")])],-1),x=e("div",{class:"language-json ext-json line-numbers-mode"},[e("pre",{class:"language-json"},[e("code",null,[e("span",{class:"token punctuation"},"{"),n(`
    `),e("span",{class:"token property"},'"Captions"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
        `),e("span",{class:"token property"},'"Captions"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},'"unworthy"'),e("span",{class:"token punctuation"},","),n(),e("span",{class:"token string"},'"not for you"'),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},","),n(`
        `),e("span",{class:"token property"},'"FilePaths"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"["),e("span",{class:"token string"},'"D:/captions.txt"'),e("span",{class:"token punctuation"},"]"),n(`
    `),e("span",{class:"token punctuation"},"}"),n(`
`),e("span",{class:"token punctuation"},"}"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br")])],-1),S=e("p",null,[n("In short, you can include the captions directly in the configuration file (as a list in the "),e("code",null,"Captions"),n(" property) or include any number of text files where each line of the text file is one caption (as a list of paths in the "),e("code",null,"FilePaths"),n(" property).")],-1),j=e("p",null,"While the API supports it, the current default caption provider ignores requested categories",-1),A=e("h2",{id:"censoring-configuration",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#censoring-configuration","aria-hidden":"true"},"#"),n(" Censoring Configuration")],-1),E=e("p",null,[n("You can also fine-tune the censoring settings used by all clients using the server configuration file. You can separately adjust the minimum confidence (between 0 and 1) for Beta Censoring to censor a result from the AI, as well as tune the scores required for individual matches ('classes' as the AI calls them). For example, the default scores range from 0.4 to 0.55 (the default) up to 0.6 for some of the trickier covered classes. If you want to make the censoring more trigger-happy overall, you can adjust the "),e("code",null,"MinimumScore"),n(" option, like below:")],-1),B=e("div",{class:"language-yaml ext-yml line-numbers-mode"},[e("pre",{class:"language-yaml"},[e("code",null,[e("span",{class:"token key atrule"},"MatchOptions"),e("span",{class:"token punctuation"},":"),n(`
  `),e("span",{class:"token key atrule"},"MinimumScore"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token number"},"0.4"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),I=e("div",{class:"language-json ext-json line-numbers-mode"},[e("pre",{class:"language-json"},[e("code",null,[e("span",{class:"token punctuation"},"{"),n(`
    `),e("span",{class:"token property"},'"MatchOptions"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
        `),e("span",{class:"token property"},'"MinimumScore"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token number"},"0.4"),n(`
    `),e("span",{class:"token punctuation"},"}"),n(`
`),e("span",{class:"token punctuation"},"}"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br")])],-1),N=e("p",null,[n("or if you just want to make it "),e("em",null,"much"),n(" more likely to censor specifically breasts (either covered or exposed) you could use the following:")],-1),P=e("div",{class:"language-yaml ext-yml line-numbers-mode"},[e("pre",{class:"language-yaml"},[e("code",null,[e("span",{class:"token key atrule"},"MatchOptions"),e("span",{class:"token punctuation"},":"),n(`
  `),e("span",{class:"token key atrule"},"ClassScores"),e("span",{class:"token punctuation"},":"),n(`
    `),e("span",{class:"token key atrule"},"EXPOSED_BREAST_F"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token number"},"0.35"),n(`
    `),e("span",{class:"token key atrule"},"COVERED_BREAST_F"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token number"},"0.45"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),Y=e("div",{class:"language-json ext-json line-numbers-mode"},[e("pre",{class:"language-json"},[e("code",null,[e("span",{class:"token punctuation"},"{"),n(`
    `),e("span",{class:"token property"},'"MatchOptions"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
        `),e("span",{class:"token property"},'"ClassScores"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
          `),e("span",{class:"token property"},'"EXPOSED_BREAST_F"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token number"},"0.35"),e("span",{class:"token punctuation"},","),n(`
          `),e("span",{class:"token property"},'"COVERED_BREAST_F"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token number"},"0.45"),n(`
        `),e("span",{class:"token punctuation"},"}"),n(`
    `),e("span",{class:"token punctuation"},"}"),n(`
`),e("span",{class:"token punctuation"},"}"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),q=n("You can provide class-specific scores for any of the "),O={href:"https://github.com/notAI-tech/NudeNet#nudenet-neural-nets-for-nudity-classification-detection-and-selective-censoring",target:"_blank",rel:"noopener noreferrer"},M=n("classes supported by the NudeNet model"),F=n("."),D=e("h2",{id:"server-configuration",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#server-configuration","aria-hidden":"true"},"#"),n(" Server Configuration")],-1),L=e("p",null,[n("If you're looking to tweak how the server itself works, the most useful configuration block is the "),e("code",null,"Server"),n(" block. When not specified, the default is equivalent to the following:")],-1),R=e("div",{class:"language-yaml ext-yml line-numbers-mode"},[e("pre",{class:"language-yaml"},[e("code",null,[e("span",{class:"token key atrule"},"Server"),e("span",{class:"token punctuation"},":"),n(`
  `),e("span",{class:"token key atrule"},"WorkerCount"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token number"},"2"),n(`
  `),e("span",{class:"token key atrule"},"EnableSignalR"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token boolean important"},"true"),n(`
  `),e("span",{class:"token key atrule"},"EnableRest"),e("span",{class:"token punctuation"},":"),n(),e("span",{class:"token boolean important"},"true"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),T=e("div",{class:"language-json ext-json line-numbers-mode"},[e("pre",{class:"language-json"},[e("code",null,[e("span",{class:"token punctuation"},"{"),n(`
    `),e("span",{class:"token property"},'"Server"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token punctuation"},"{"),n(`
        `),e("span",{class:"token property"},'"WorkerCount"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token number"},"2"),e("span",{class:"token punctuation"},","),n(`
        `),e("span",{class:"token property"},'"EnableSignalR"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},","),n(`
        `),e("span",{class:"token property"},'"EnableRest"'),e("span",{class:"token operator"},":"),n(),e("span",{class:"token boolean"},"true"),n(`
    `),e("span",{class:"token punctuation"},"}"),n(`
`),e("span",{class:"token punctuation"},"}"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br")])],-1),W=l('<h3 id="worker-configuration" tabindex="-1"><a class="header-anchor" href="#worker-configuration" aria-hidden="true">#</a> Worker Configuration</h3><p>It may be tempting to dramatically increase the <code>WorkerCount</code> setting to get more workers censoring images at once, but this is not usually a good idea.</p><p>Increasing the worker count will <strong>dramatically</strong> increase the load on your PC while censoring. Additionally, adding more workers actually has the potential to <em>slow down</em> censoring, especially if you add more workers than your PC can reasonably run at once. A reasonable rule of thumb is to use half the number of cores your CPU has. If you&#39;re okay with things <em>really</em> slowing down during censoring, you can try going as high as the number of cores, but it&#39;s <strong>strongly recommended</strong> to not go above this number.</p>',3);function J(V,G){const t=r("CodeGroupItem"),o=r("CodeGroup"),i=r("ExternalLinkIcon");return c(),u(p,null,[k,s(o,null,{default:a(()=>[s(t,{title:"YAML",active:""},{default:a(()=>[m]),_:1}),s(t,{title:"JSON"},{default:a(()=>[b]),_:1})]),_:1}),g,f,y,s(o,null,{default:a(()=>[s(t,{title:"YAML",active:""},{default:a(()=>[_]),_:1}),s(t,{title:"JSON"},{default:a(()=>[v]),_:1})]),_:1}),w,s(o,null,{default:a(()=>[s(t,{title:"YAML",active:""},{default:a(()=>[C]),_:1}),s(t,{title:"JSON"},{default:a(()=>[x]),_:1})]),_:1}),S,j,A,E,s(o,null,{default:a(()=>[s(t,{title:"YAML",active:""},{default:a(()=>[B]),_:1}),s(t,{title:"JSON"},{default:a(()=>[I]),_:1})]),_:1}),N,s(o,null,{default:a(()=>[s(t,{title:"YAML",active:""},{default:a(()=>[P]),_:1}),s(t,{title:"JSON"},{default:a(()=>[Y]),_:1})]),_:1}),e("p",null,[q,e("a",O,[M,s(i)]),F]),D,L,s(o,null,{default:a(()=>[s(t,{title:"YAML",active:""},{default:a(()=>[R]),_:1}),s(t,{title:"JSON"},{default:a(()=>[T]),_:1})]),_:1}),W],64)}var z=d(h,[["render",J]]);export{z as default};
